<!DOCTYPE html>
<html lang="en">
    <head>
      <!-- Required meta tags-->
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta name="author" content="">
      <meta name="keywords" content="admin template,html 5 admin template , Explorer admin , dashboard template, bootstrap 5 admin template, responsive admin template">
      <title>Explorer |Login
      </title>
      <!-- shortcut icon-->
      <link rel="icon" href="/static/assets/images/logo/explorer.png" type="image/x-icon">
      <link rel="shortcut icon" href="/static/assets/images/logo/explorer.png" type="image/x-icon">
      <!-- Fonts css-->
      <link rel="preconnect" href="https://fonts.googleapis.com">
      <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
      <link href="https://fonts.googleapis.com/css2?family=Rubik:ital,wght@0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,300;1,400;1,500;1,600;1,700;1,800;1,900&amp;display=swap" rel="stylesheet">
      <!-- Font awesome -->
      <link href="/static/assets/css/vendor/font-awesome.css" rel="stylesheet">
      <!-- themify icon-->
      <link href="/static/assets/css/vendor/themify-icons.css" rel="stylesheet">
      <!-- Scrollbar-->
      <link href="/static/assets/css/vendor/simplebar.css" rel="stylesheet">
      <!-- Bootstrap css-->
      <link href="/static/assets/css/vendor/bootstrap.css" rel="stylesheet">
      <!-- Custom css-->
      <link href="/static/assets/css/style.css" id="customstyle" rel="stylesheet">
      <!-- <script src="/static/assets/js/axios.min.js"></script> -->
      <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>

    </head>
  <body class="darkmode">  
    <!-- Login Start-->
    <div class="auth-main">
      <div class="codex-authbox">
        <div class="auth-header">
          <div class="codex-brand"><a href="/explorer/index">
            <img class="img-fluid dark-logo" src="/static/assets/images/logo/explorer_1.png" alt=""></a></div>
          <h6>don't have an account? <a class="text-primary" href="/explorer/register">creat an account</a></h6>
        </div>
        <form id="check_user">
          <div class="form-group">
            <label class="form-label">Email</label>
            <input name="email" class="form-control" type="text" required placeholder="Enter Your Email">
          </div>
          <div class="form-group">
            <label class="form-label" for="Password">Password</label>
            <div class="input-group group-input">
              <input name="password" class="form-control showhide-password" type="password" id="Password" placeholder="Enter Your Password" required=""><span class="input-group-text toggle-show fa fa-eye"></span>
            </div>
          </div>
          <div class="form-group mb-0">
            <div class="auth-remember">
              <a class="text-primary f-pwd" href="forgotpassword">Forgot your password?</a>
            </div>
          </div>
          <div class="form-group">
            <button class="btn btn-primary" type="submit" onclick="submitForm()" ><i class="fa fa-sign-in"></i> Login</button>
          </div>
        </form>

        <script>
        function submitForm() {
          var email = document.querySelector('input[name="email"]').value;
          var password = document.querySelector('input[name="password"]').value;
          var xhr = new XMLHttpRequest();
          xhr.open('POST', '/explorer/login/', true);
          xhr.setRequestHeader('Content-Type', 'application/json');
          var data = JSON.stringify({
            email: email,
            password: password
          });
          xhr.onload = function () {
            if (xhr.status === 200) {
              var response = JSON.parse(xhr.responseText);
              if (response.response === 'OK') {
                document.cookie = 'ID=' + response.ID;
                window.location.href = '/explorer/index';
              }
              else {
                window.location.href = '/explorer/index';
              }
            }
            else {window.location.href = '/explorer/index';}
          };
          xhr.send(data);
        }
        </script>


        <div class="auth-footer">
          <h5 class="auth-with">Or login in with     </h5>
          <ul class="login-list">
            <li><a class="bg-fb" href="javascript:void(0);"> <img class="img-fluid" src="/static/assets/images/auth/1.png" alt="facebook">facebook</a></li>
            <li><a class="bg-google" href="javascript:void(0);"> <img class="img-fluid" src="/static/assets/images/auth/2.png" alt="google">google</a></li>
          </ul>
        </div>
      </div>
    </div>
    <!-- Login End-->
      <!-- main jquery-->
      <script src="/static/assets/js/jquery-3.6.0.js"></script>

      <!-- Feather icons js-->
      <script src="/static/assets/js/icons/feather-icon/feather.js"></script>
      <!-- Bootstrap js-->
      <script src="/static/assets/js/bootstrap.bundle.min.js"></script>
      <!-- Scrollbar-->
      <script src="/static/assets/js/vendors/simplebar.js"></script>
      <!-- Custom script-->
      <script src="/static/assets/js/custom-script.js"></script>
  </body>
</html>